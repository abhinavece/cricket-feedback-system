# Development values for CricSmart Cricket Feedback System
# Override default values.yaml for OCI cloud deployment
# Using MongoDB Atlas cloud cluster for database

# Development image tags
backend:
  image:
    tag: "2026.01.31.50"
  replicaCount: 1
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 250m
      memory: 256Mi

frontend:
  image:
    registry: phx.ocir.io/axkw6whnjncs
    repository: cricket-feedback-frontend
    tag: "2026.01.31.53"
  replicaCount: 1
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi

# ============================================
# MongoDB Atlas Cloud Configuration
# ============================================
# DISABLED: In-cluster MongoDB is NOT used for OCI deployment
# We use MongoDB Atlas cloud cluster for better stability
# Connection string is stored in cricket-secrets -> mongodb-uri
#
# To enable in-cluster MongoDB (e.g., for local dev):
#   1. Set enabled: true
#   2. Update cricket-secrets with local MongoDB URI:
#      mongodb://admin:password123@cricket-feedback-mongodb:27017/cricket-feedback?authSource=admin
# ============================================
mongodb:
  enabled: false
  # Below config is preserved for local/other environments
  # auth:
  #   enabled: true
  #   rootUser: admin
  #   rootPassword: "password123"
  #   username: admin
  #   password: "password123"
  #   database: cricket-feedback
  # architecture: standalone
  # replicaCount: 1
  # persistence:
  #   enabled: true
  #   size: 8Gi
  # resources:
  #   limits:
  #     cpu: 500m
  #     memory: 512Mi
  #   requests:
  #     cpu: 250m
  #     memory: 256Mi

# Development ingress
ingress:
  # Primary domain (new)
  host: app.cricsmart.in
  # Legacy domain (keep for backward compatibility during migration)
  secondaryHost: mavericks11.duckdns.org
  # Additional custom domains
  additionalHosts:
    - cricsmart.in
    - www.cricsmart.in
  tls:
    enabled: true
    secretName: cricket-feedback-tls-dev

# Development autoscaling disabled
autoscaling:
  enabled: false

# AI Service development configuration
aiService:
  enabled: true
  image:
    tag: "2026.01.31.50"
  replicaCount: 1
  resources:
    limits:
      cpu: 300m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  env:
    - name: DAILY_REQUEST_LIMIT
      value: "200"
    - name: AI_SERVICE_ENABLED
      value: "true"
    - name: AI_PROVIDER
      value: "google_ai_studio"
    - name: GOOGLE_AI_STUDIO_API_KEY
      valueFrom:
        secretKeyRef:
          name: ai-service-secrets
          key: google-ai-studio-api-key
    - name: MIN_CONFIDENCE_THRESHOLD
      value: "0.7"
    - name: LOG_LEVEL
      value: "INFO"
    - name: BACKEND_CALLBACK_URL
      value: "http://cricket-feedback-backend-service:5001"

# Secrets are managed via kubectl - DO NOT commit real values
secrets:
  enabled: false
